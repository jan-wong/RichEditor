#### 开发过程中遇到的问题

##### 插件接口设计

最初设计接口遵循简单的原则，但是随着对插件需求的演变，插件需要提供更加细化接口来满足插件编写者更多更细的控制，这使得接口设计变得复杂。这是复杂与简单之间的平衡。插件接口的改动，会导致核心服务与插件的很多改动。

插件接口的演变：

一. 提供一个插件抽象类给具体插件类继承，内部实现了特定的几个抽象方法。具体插件类通过覆盖抽象类的属性方法和实现抽象方法的方式来实现具体功能。

优缺点：1.这种方式只适合简单的插件，不能满足插件开发者的复杂多变的需求。2.框架内部的服务对象是运行时才会产生，具体插件类无法访问它们。

二. 编写插件类，插件类必须具备一个特定的方法给插件管理器调用，插件管理器可以将内部服务对象作为参数传递给插件。参考webpack。

优点：1.比抽象类的方式更能满足复杂的需求 2.插件可以访问框架内部服务对象。

##### 插件化架构
1.核心服务与插件之间通过事件机制或持有的方式进行通信。
2.插件与插件之间它们相互之间通信。

##### 关于工具栏的选中状态的几种情况
1.正常情况：点击工具栏，对选中选区进行操作，选中选区符合工具栏的规则，工具栏被选中。比如加粗
2.点击工具栏，不对选区进行操作。比如弹个下拉菜单